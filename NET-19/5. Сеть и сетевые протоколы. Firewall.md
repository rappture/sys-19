# Домашнее задание к занятию «Сеть и сетевые протоколы. Firewall»
<br>

> ### Задание 1. Создание виртуального окружения и настройка сетевых интерфейсов
> Описание задания  
> Перед вами стоит задача создать две виртуальные машины с операционной системой Debian и настроить управление трафиком.
>
> Требование к результату  
> Вы должны создать и настроить две виртуальные машины с операционной системой Debian. К выполненной задаче добавьте скриншоты настроек IP-адресов интерфейсов, таблиц маршрутизации, конфигурации файервола и результатов выполнения всех упомянутых проверок ping.
>
> Процесс выполнения
> 1.	Запустите программу VirtualBox.
> 2.	В программе VirtualBox создайте две виртуальные машины с Debian, назовите их vm1 и vm2
> 3.	В VirtualBox создайте виртуальную сеть 192.168.123.0/24
> 4.	В VirtualBox настройте сетевые интерфейсы vm1 так, чтобы один интерфейс имел доступ в интернет (bridge или NAT), а второй интерфейс смотрел в виртуальную сеть 192.168.123.0/24
> 5.	В VirtualBox настройте сетевой интерфейс vm2 так, чтобы он смотрел только в виртуальную сеть 192.168.123.0
> 6.	Для vm1: настройте статический IP адрес у интерфейса смотрящего в сеть 192.168.123.0 (адрес в сети 123.0 выберите на своё усмотрение). Настройте IP-адрес интерфейса смотрящего в вашу локальную сеть так, проверьте чтобы была доступность по ICMP c vm1 до 8.8.8.8.
> 7.	Для vm2: настройте статический IP адрес у интерфейса смотрящего в сеть 192.168.123.0 (адрес в сети 123.0 выберите на своё усмотрение), шлюзом укажите IP vm1 из сети 192.168.123.0
> 8.	Проверьте доступность по ICMP:  
>     • vm2 с vm1 по IP   
>     • vm1 с vm2 по IP
> 9.	Приложите скриншоты результата.
> 10.	Настройте пересылку трафика на vm1, чтобы с vm2 можно было отправить ICMP-запросы на 8.8.8.8 и приложите скриншот результата.
>
### Ответ к заданию 1.
:large_blue_diamond:	На рисунке ниже настройки виртуальной сети VirtualBox.

<kbd><img src="/img/net-5.1.1.png"></kbd>
 
:large_blue_diamond:	На рисунках ниже настройки сетевых интерфейсов для VM1.

<kbd><img src="/img/net-5.1.2.png"></kbd>
 
<kbd><img src="/img/net-5.1.3.png"></kbd>
 
:large_blue_diamond:	На рисунках ниже настройки сетевых интерфейсов для VM2.

<kbd><img src="/img/net-5.1.4.png"></kbd>
 
<kbd><img src="/img/net-5.1.5.png"></kbd>
 
:large_blue_diamond:	На рисунке ниже проверки доступности VM2 с VM1 и VM1 с VM2 по ICMP.

<kbd><img src="/img/net-5.1.6.png"></kbd>
 
:large_blue_diamond:	На рисунках ниже настройка IP forward в ядре Linux.

<kbd><img src="/img/net-5.1.7.png"></kbd>
 
<kbd><img src="/img/net-5.1.8.png"></kbd>
 
<kbd><img src="/img/net-5.1.9.png"></kbd>
 
:large_blue_diamond:	На рисунке ниже настройка iptables (форвардинг установленных и новых соединений, маскарадинг), а также вариант сохранения настроек для повторного использования в будущем.

<kbd><img src="/img/net-5.1.10.png"></kbd>
 
:large_blue_diamond:	На рисунке ниже результат. Теперь с vm2 можно отправлять ICMP-запросы на 8.8.8.8.

<kbd><img src="/img/net-5.1.11.png"></kbd>
 
---

> ### Задание 2. Настройка проброса портов
> Описание задания  
> Перед вами стоит задача настроить проброс портов из локальной сети компьютера в виртуальную сеть.
>
> Требование к результату  
> К выполненной задаче добавьте скриншот настроек и успешное подключение через ssh.
>
> Процесс выполнения
> 1.	Запустите программу VirtualBox.
> 2.	В программе VirtualBox используйте результат предыдущей практической работы.
> 3.	Настройте проброс портов из локальной сети компьютера с VirtualBox через vm1 порт 12322 в виртуальную сеть VirtualBox на 22 порт vm2.
> 4.	Подключитесь к vm2 по ssh через Putty как было показано на уроке.
>
### Ответ к заданию 2.
:large_blue_diamond:	На рисунке ниже донастройка VM1 в VirtualBox.

<kbd><img src="/img/net-5.2.1.png"></kbd>
 
:large_blue_diamond:	На рисунке ниже настройка iptables на VM1.

<kbd><img src="/img/net-5.2.2.png"></kbd>
 
:large_blue_diamond:	На рисунках ниже подключение к VM2 с машины-хоста.

<kbd><img src="/img/net-5.2.3.png"></kbd>
 
<kbd><img src="/img/net-5.2.4.png"></kbd>
 
---

> ### Общие критерии оценки
> Задание считается выполненным при соблюдении следующих условий:
> *	Выполнено оба задания.
> *	К заданиям прикреплены скриншоты настроек виртуальных машин и их доступности после выполнения каждого задания.
> *	Отображены настройки конфигурации Firewal.
>
<details>
<summary><h3>N.B.</h3></summary>

**/etc/resolv.conf** сюда сохраняется адрес днс сервера:  

```
# Generated by NetworkManager
nameserver 192.168.0.1
```
</details>


